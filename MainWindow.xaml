<Window x:Class="AudioVisualizer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MIDI Visualizer" WindowState="Maximized" Background="#FF121212">
    <Window.Resources>
        <!-- Base Styles -->
        <Style TargetType="Control">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
        </Style>
        <Style TargetType="Button">
            <Setter Property="Background" Value="#FF333333"/>
            <Setter Property="BorderBrush" Value="#FF555555"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="1" CornerRadius="3">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style TargetType="Label" BasedOn="{StaticResource {x:Type Control}}"/>
        <Style TargetType="CheckBox" BasedOn="{StaticResource {x:Type Control}}"/>
        <Style TargetType="Slider">
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="5"/>
        </Style>
        <Style TargetType="GroupBox">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#FF555555"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="5"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Control Panel -->
        <Border Grid.Column="0" Background="#FF202020" Padding="10">
            <StackPanel>
                <GroupBox Header="Global">
                    <StackPanel>
                        <Label Content="MIDI Device:"/>
                        <ComboBox Name="midiDeviceComboBox" Margin="5,0,5,5"/>
                        <Button Name="connectMidiButton" Content="Connect" Margin="5"/>
                        <Button Name="audioButton" Content="Start Audio" Margin="5"/>
                        <Label Name="tempoLabel" Content="BPM: --" HorizontalAlignment="Center" FontSize="16"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Visuals">
                    <StackPanel>
                        <Label Content="Visualizer Mode"/>
                        <ComboBox Name="modeComboBox" Margin="5,0,5,5">
                            <ComboBoxItem Content="Waveform"/>
                            <ComboBoxItem Content="Spectrum"/>
                            <ComboBoxItem Content="Circular Waveform"/>
                            <ComboBoxItem Content="Circular Spectrum"/>
                        </ComboBox>
                        <Label Content="Amplitude / Sensitivity"/>
                        <Slider Name="sensitivitySlider" Minimum="0.1" Maximum="10.0" Value="1.0" ToolTip="Controls the vertical amplitude of the visual"/>
                        <Label Content="Stroke Thickness / Size"/>
                        <Slider Name="sizeSlider" Minimum="1" Maximum="20" Value="2" ToolTip="Controls the thickness of the line or size of elements"/>
                        <CheckBox Name="randomShapeTypeCheckBox" Content="Random Shape Type" Margin="5"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Automation">
                    <StackPanel>
                        <CheckBox Name="autoCycleCheckBox" Content="Auto-Cycle Modes"/>
                        <Label Content="Cycle Speed (seconds)"/>
                        <Slider Name="cycleSpeedSlider" Minimum="5" Maximum="60" Value="15" IsEnabled="{Binding IsChecked, ElementName=autoCycleCheckBox}"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Style">
                    <StackPanel>
                        <Label Content="Color Palette"/>
                        <ComboBox Name="colorPaletteComboBox" Margin="5,0,5,5">
                            <ComboBoxItem Content="Lime Green"/>
                            <ComboBoxItem Content="Synthwave"/>
                            <ComboBoxItem Content="Ocean"/>
                            <ComboBoxItem Content="Fire"/>
                        </ComboBox>
                        <Label Content="Rotation Speed"/>
                        <Slider Name="rotationSlider" Minimum="0" Maximum="5" Value="0"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Effects (Disabled)">
                    <StackPanel>
                        <CheckBox Name="distortionCheck" Content="Distortion" IsEnabled="False"/>
                        <CheckBox Name="glowCheck" Content="Glow" IsEnabled="False"/>
                        <CheckBox Name="audioReactivityCheck" Content="Audio Reactivity" IsEnabled="False"/>
                    </StackPanel>
                </GroupBox>

            </StackPanel>
        </Border>

        <!-- Visualizer Canvas -->
        <Canvas Name="visualCanvas" Grid.Column="1" Background="Black" ClipToBounds="True"/>
    </Grid>
</Window>
